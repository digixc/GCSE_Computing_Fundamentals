<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>3.7.2 Structured Query Langauage (SQL)</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="css/styles.css"/>
<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu' rel='stylesheet' type='text/css'>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">3.7.2 Structured Query Langauage (SQL)</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Using SQL to Query a Relational Database</a>
<ul>
<li><a href="#sec-1-1">Learn It</a></li>
</ul>
</li>
<li><a href="#sec-2">2. SQL Syntax - SELECT</a>
<ul>
<li><a href="#sec-2-1">Learn It: SELECT .. FROM .. WHERE</a></li>
<li><a href="#sec-2-2">Learn It: Retrieving Data from a Relational Database</a></li>
<li><a href="#sec-2-3">Standard SQL Operators</a></li>
<li><a href="#sec-2-4">Try It: SQL Zoo - SELECT</a></li>
<li><a href="#sec-2-5">Badge It: Structured Query Langauge (SQL) - Simple SQL Query</a></li>
<li><a href="#sec-2-6">Learn It: Retrieving Data from Two or more Tables</a></li>
<li><a href="#sec-2-7">Badge It: Structured Query Langauge (SQL) - SQL to Query two tables</a></li>
</ul>
</li>
<li><a href="#sec-3">3. SQL Syntax - INSERT</a>
<ul>
<li><a href="#sec-3-1">Learn It: Insert a new record</a></li>
</ul>
</li>
<li><a href="#sec-4">4. SQL Syntax - UPDATE</a>
<ul>
<li><a href="#sec-4-1">Learn It: Update an existing record</a></li>
</ul>
</li>
<li><a href="#sec-5">5. SQL Syntax - DELETE</a>
<ul>
<li><a href="#sec-5-1">Learn It: Delete an existing record</a></li>
<li><a href="#sec-5-2">Try It: SQL Zoo - INSERT&#x2026;UPDATE&#x2026;DELETE</a></li>
<li><a href="#sec-5-3">Badge It: Structured Query Langauge (SQL) - SQL Exam Questions</a></li>
</ul>
</li>
<li><a href="#sec-6">6. Extension Exam Questions</a>
<ul>
<li><a href="#sec-6-1">Try It</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class=ribbon>
<a href="GITHUB URL HERE">Fork me on GitHub</a>
</div>

<div class="figure">
<p><img src="img/3.7.2_SQL_Main.png" alt="3.7.2_SQL_Main.png" />
</p>
</div>
<div id="outline-container-sec-1" class="outline-2 activity">
<h2 id="sec-1"><span class="section-number-2">1</span> Using SQL to Query a Relational Database</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-sec-1-1" class="outline-3 learn">
<h3 id="sec-1-1">Learn It</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li><b>Structured Query Language (SQL)</b> is a language that was developed as a method for creating, <i>selecting</i>, <i>inserting</i>, <i>editing(updating)</i> and <i>deleting</i> tables, records and fields within a relational database.
</li>
<li>Using SQL we can perform various operations on data in out database tables.
</li>
<li>We can, for instance, <code>SELECT</code>, <code>INSERT</code>, <code>DELETE</code> and <code>UPDATE</code> <i>tables</i>, <i>records</i> and <i>fields</i>.
</li>
<li>SQL is a standardized query language for requesting information from a database.
</li>
<li><b>Query</b> is another word for <b>questioning</b> the Database using criteria.
</li>
<li>The <b>Customer</b>, <b>Orders</b> and <b>Books</b> tables in the <b>Book<sub>Store</sub></b> database will be used to demonstrate the main SQL statements.
</li>
<li><b>The most commonly used SQL statements include:</b>
<ul class="org-ul">
<li>SELECT
<ul class="org-ul">
<li>FROM
</li>
<li>WHERE
</li>
<li>ORDER BY
</li>
</ul>
</li>
<li>INSERT
</li>
<li>UPDATE
</li>
<li>DELETE
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2 activity">
<h2 id="sec-2"><span class="section-number-2">2</span> SQL Syntax - SELECT</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-sec-2-1" class="outline-3 learn">
<h3 id="sec-2-1">Learn It: SELECT .. FROM .. WHERE</h3>
<div class="outline-text-3" id="text-2-1">

<ul class="org-ul">
<li>The <b>SELECT</b> statement is used to retrieve(Extract) a collection of fields from one or more tables in a database.
</li>
<li><b>The syntax is:</b>
</li>
<li><code>SELECT</code> will retrieve data(List of Fields) from one or more tables.
</li>
<li><code>SELECT</code> has optional keywords such as:
<ul class="org-ul">
<li><code>FROM</code> to list the table(s) where the data is to be retrieved from.
</li>
<li><code>WHERE</code> to allow selection of data using search criteria.
</li>
<li><code>ORDER BY</code> lists the column(fields) that the results are to be sorted on, either Ascending or Descending(default is Ascending).
</li>
</ul>
</li>
<li>The asterisk (<code>*</code>) is also important in writing SQL statements, indicating that all columns(Fields) should be selected.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3 learn">
<h3 id="sec-2-2">Learn It: Retrieving Data from a Relational Database</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li><b>EXAMPLE 1:</b> Let's look at our Customer table example.
</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="center">*CustID</th>
<th scope="col" class="center">Title</th>
<th scope="col" class="center">Initial</th>
<th scope="col" class="center">Surname</th>
<th scope="col" class="center">Address</th>
<th scope="col" class="center">City</th>
<th scope="col" class="center">Phone</th>
<th scope="col" class="center">DoB</th>
</tr>
</thead>
<tbody>
<tr>
<td class="center">C001</td>
<td class="center">Mrs</td>
<td class="center">C</td>
<td class="center">Flowers</td>
<td class="center">23 Rose Ave</td>
<td class="center">Bourne</td>
<td class="center">01778 123456</td>
<td class="center">01/11/69</td>
</tr>

<tr>
<td class="center">C002</td>
<td class="center">Mr</td>
<td class="center">J</td>
<td class="center">Eames</td>
<td class="center">100 Dowe Rd</td>
<td class="center">Bourne</td>
<td class="center">01778 654321</td>
<td class="center">23/09/87</td>
</tr>

<tr>
<td class="center">C003</td>
<td class="center">Mr</td>
<td class="center">H</td>
<td class="center">Gull</td>
<td class="center">34 High St</td>
<td class="center">Bourne</td>
<td class="center">01778 657231</td>
<td class="center">30/07/99</td>
</tr>

<tr>
<td class="center">C004</td>
<td class="center">Ms</td>
<td class="center">P</td>
<td class="center">Jones</td>
<td class="center">89 Knight St</td>
<td class="center">Bourne</td>
<td class="center">01778 856021</td>
<td class="center">10/10/56</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li>A valid SQL statement to select <b>All People</b> in the <b>Customer table</b> who was <b>born between</b> <code>01/01/1960</code> and <code>01/01/2000</code> and displaying the <b>results</b> in <b>descending order</b> of <b>Surname</b> would be:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">SELECT</span> *
       <span style="color: #a020f0;">FROM</span> Customer
       <span style="color: #a020f0;">WHERE</span> DoB <span style="color: #a020f0;">BETWEEN</span> #01/01/1960# <span style="color: #a020f0;">AND</span> #01/01/2000#
       <span style="color: #a020f0;">ORDER</span> <span style="color: #a020f0;">BY</span> Surname <span style="color: #a020f0;">DESC</span>;
</pre>
</pre>
</div>
<ul class="org-ul">
<li>This SQL query will return the following records:
</li>
</ul>

<div class="figure">
<p><img src="img/3.7.2_DB_SQL1.png" alt="3.7.2_DB_SQL1.png" />
</p>
</div>

<ul class="org-ul">
<li><b>EXAMPLE 2:</b> In this example we will use the <code>Books table</code> to select <b>BookID</b>, <b>Title</b>, <b>Genre</b>, <b>Rating</b> and <b>PublishDate</b> with a <b>rating</b> of <b>5 or above</b> or with a <b>publish date</b> after <code>1970</code> and displaying the <b>results</b> in <b>ascending order</b> of <b>Title</b> would be:
</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="center">*BookID</th>
<th scope="col" class="center">Title</th>
<th scope="col" class="center">Author</th>
<th scope="col" class="center">Genre</th>
<th scope="col" class="center">PublishDate</th>
<th scope="col" class="center">Rating</th>
</tr>
</thead>
<tbody>
<tr>
<td class="center">B123</td>
<td class="center">Charlotte's Web</td>
<td class="center">E. B. White</td>
<td class="center">Fiction</td>
<td class="center">01/01/1952</td>
<td class="center">5</td>
</tr>

<tr>
<td class="center">B456</td>
<td class="center">David Copperfield</td>
<td class="center">Charles Dickens</td>
<td class="center">Fiction</td>
<td class="center">10/12/1850</td>
<td class="center">5</td>
</tr>

<tr>
<td class="center">B789</td>
<td class="center">How To:</td>
<td class="center">Randall Munroe</td>
<td class="center">Fiction</td>
<td class="center">20/08/2019</td>
<td class="center">4</td>
</tr>

<tr>
<td class="center">C123</td>
<td class="center">The Way of the Peaceful Warrior</td>
<td class="center">Dan Millman</td>
<td class="center">Spiritual</td>
<td class="center">01/09/2000</td>
<td class="center">5</td>
</tr>
</tbody>
</table>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">SELECT</span> BookID, Title, Genre, Rating, PublishDate
       <span style="color: #a020f0;">FROM</span> Books
       <span style="color: #a020f0;">WHERE</span> Rating &gt; 5 <span style="color: #a020f0;">OR</span> PublishDate &gt;= #01/01/1970#
       <span style="color: #a020f0;">ORDER</span> <span style="color: #a020f0;">BY</span> Title <span style="color: #a020f0;">ASC</span>;
</pre>
</pre>
</div>
<ul class="org-ul">
<li>This SQL query will return the following records:
</li>
</ul>

<div class="figure">
<p><img src="img/3.7.2_DB_SQL2.png" alt="3.7.2_DB_SQL2.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">Standard SQL Operators</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>The standard operators used in SQL are shown below.
</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="center" />

<col  class="center" />

<col  class="center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="center">Operator</th>
<th scope="col" class="center">Function</th>
<th scope="col" class="center">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="center">=</td>
<td class="center">Equal to</td>
<td class="center">Title = "Mr"</td>
</tr>

<tr>
<td class="center">&lt;&gt;</td>
<td class="center">Not equal to</td>
<td class="center">Title &lt;&gt; "Ms"</td>
</tr>

<tr>
<td class="center">&lt;</td>
<td class="center">Less than</td>
<td class="center">Rating &lt; 5</td>
</tr>

<tr>
<td class="center">&gt;</td>
<td class="center">Greater than</td>
<td class="center">Rating &gt; 2</td>
</tr>

<tr>
<td class="center">&lt;=</td>
<td class="center">Less than or equal to</td>
<td class="center">DoB &lt;= #01/01/1970#</td>
</tr>

<tr>
<td class="center">&gt;=</td>
<td class="center">Greater than or equal to</td>
<td class="center">DoB &gt;= #01/01/2000#</td>
</tr>

<tr>
<td class="center">IN</td>
<td class="center">Equal to a value within a set of values</td>
<td class="center">Genre IN ("Fiction", "Non-Fiction" , "Spiritual")</td>
</tr>

<tr>
<td class="center">BETWEEN &#x2026;AND</td>
<td class="center">Within a range, including the two values which define the limits</td>
<td class="center">DoB BETWEEN #01/01/2018# AND #31/12/2019#</td>
</tr>

<tr>
<td class="center">IS NULL</td>
<td class="center">Field does not contain a value</td>
<td class="center">DoB IS NULL</td>
</tr>

<tr>
<td class="center">NOT</td>
<td class="center">Inverts truth</td>
<td class="center">Genre NOT IN ("Fiction", "Spiritual")</td>
</tr>

<tr>
<td class="center">AND</td>
<td class="center">Both expressions must be true for the expression to be true</td>
<td class="center">Title = "Mr" AND DoB &gt; #01/01/2000#</td>
</tr>

<tr>
<td class="center">OR</td>
<td class="center">If either or both expressions ate true, then the expression is true</td>
<td class="center">Title = "Mrs" OR City = "Bourne"</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3 try">
<h3 id="sec-2-4">Try It: SQL Zoo - SELECT</h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li>Try practising your SQL skills by working through the following SQL Select Stages 0 to 7:
</li>
</ul>
<a href="https://sqlzoo.net/"><img src="file:img/SQL_Zoo_Sections_Part_1.png"></a>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3 badge">
<h3 id="sec-2-5">Badge It: Structured Query Langauge (SQL) - Simple SQL Query</h3>
<div class="outline-text-3" id="text-2-5">
<p>
<b>Silver</b>: Carry out the following instructions:
</p>
<ol class="org-ol">
<li>Write an SQL query to find the names and dates of birth of all people born on or before 1st January 1970. = <b>(Hint: Use the &lt;= operator)</b>
</li>
<li>Draw a table to show the query results. Remember to display <b>all</b> fields in the records that satisfy the query criteria, use an asterisk(*) instead of specifying each field.
</li>
</ol>


<ul class="org-ul">
<li><i>Upload to 3.7.2 Structured Query Language (SQL) - Simple SQL Statement: Silver on BourneToLearn</i> 
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-6" class="outline-3 learn">
<h3 id="sec-2-6">Learn It: Retrieving Data from Two or more Tables</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li>The <code>Book_Store</code> database consists of <code>three tables</code>, with
relational databases, we might want to select from multiple tables.
</li>
<li>For example, we might want to find the names and phone numbers of
people who had previously bought a book in 2020.
</li>
<li>Using SQL, we can combine data from two or more tables by specifying
which data the table is held in.
</li>
<li>When more than one table is involved, SQL uses the syntax
<code>tablename.tablefield</code> to specify the field. However, the table name
is optional unless the field name appears in more than one table.
</li>
</ul>
<p>
<b>Customer Table:</b>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="center">*CustID</th>
<th scope="col" class="center">Title</th>
<th scope="col" class="center">Initial</th>
<th scope="col" class="center">Surname</th>
<th scope="col" class="center">Address</th>
<th scope="col" class="center">City</th>
<th scope="col" class="center">Phone</th>
<th scope="col" class="center">DoB</th>
</tr>
</thead>
<tbody>
<tr>
<td class="center">C001</td>
<td class="center">Mrs</td>
<td class="center">C</td>
<td class="center">Flowers</td>
<td class="center">23 Rose Ave</td>
<td class="center">Bourne</td>
<td class="center">01778 123456</td>
<td class="center">01/11/69</td>
</tr>

<tr>
<td class="center">C002</td>
<td class="center">Mr</td>
<td class="center">J</td>
<td class="center">Eames</td>
<td class="center">100 Dowe Rd</td>
<td class="center">Bourne</td>
<td class="center">01778 654321</td>
<td class="center">23/09/87</td>
</tr>

<tr>
<td class="center">C003</td>
<td class="center">Mr</td>
<td class="center">H</td>
<td class="center">Gull</td>
<td class="center">34 High St</td>
<td class="center">Bourne</td>
<td class="center">01778 657231</td>
<td class="center">30/07/99</td>
</tr>

<tr>
<td class="center">C004</td>
<td class="center">Ms</td>
<td class="center">P</td>
<td class="center">Jones</td>
<td class="center">89 Knight St</td>
<td class="center">Bourne</td>
<td class="center">01778 856021</td>
<td class="center">10/10/56</td>
</tr>
</tbody>
</table>
<p>
<b>Books Table:</b>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="center">*BookID</th>
<th scope="col" class="center">Title</th>
<th scope="col" class="center">Author</th>
<th scope="col" class="center">Genre</th>
<th scope="col" class="center">PublishDate</th>
<th scope="col" class="center">Rating</th>
</tr>
</thead>
<tbody>
<tr>
<td class="center">B123</td>
<td class="center">Charlotte's Web</td>
<td class="center">E. B. White</td>
<td class="center">Fiction</td>
<td class="center">01/01/1952</td>
<td class="center">5</td>
</tr>

<tr>
<td class="center">B456</td>
<td class="center">David Copperfield</td>
<td class="center">Charles Dickens</td>
<td class="center">Fiction</td>
<td class="center">10/12/1850</td>
<td class="center">5</td>
</tr>

<tr>
<td class="center">B789</td>
<td class="center">How To:</td>
<td class="center">Randall Munroe</td>
<td class="center">Fiction</td>
<td class="center">20/08/2019</td>
<td class="center">4</td>
</tr>

<tr>
<td class="center">C123</td>
<td class="center">The Way of the Peaceful Warrior</td>
<td class="center">Dan Millman</td>
<td class="center">Spiritual</td>
<td class="center">01/09/2000</td>
<td class="center">5</td>
</tr>
</tbody>
</table>
<p>
<b>Orders Table:</b>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="center" />

<col  class="center" />

<col  class="center" />

<col  class="center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="center">*OrderID</th>
<th scope="col" class="center">CustID</th>
<th scope="col" class="center">BookID</th>
<th scope="col" class="center">OrderDate</th>
</tr>
</thead>
<tbody>
<tr>
<td class="center">O1</td>
<td class="center">C003</td>
<td class="center">B123</td>
<td class="center">15/04/2020</td>
</tr>

<tr>
<td class="center">O2</td>
<td class="center">C002</td>
<td class="center">B456</td>
<td class="center">07/02/2019</td>
</tr>

<tr>
<td class="center">O3</td>
<td class="center">C001</td>
<td class="center">B789</td>
<td class="center">26/03/2020</td>
</tr>

<tr>
<td class="center">O4</td>
<td class="center">C004</td>
<td class="center">C123</td>
<td class="center">01/07/2020</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li><b>EXAMPLE 1:</b> We will write an SQL query to find the <i>Title</i>, <i>Initial</i>, <i>Surname</i> and <i>Phone number</i> of each person, together with the <i>date</i> customer bought a book <i>during 2020</i>.
</li>
<li>We need to query the tables Customer and Orders to find the matching OrderDate &gt;= 01/01/2020. These two tables are linked by a primary key CustID in the Customer table and a foreign key CustID in the Orders table. This kind of query is called <code>inner join</code>.
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">SELECT</span> Customer.Title, Initial, Surname, Phone, Orders.CustID, OrderDate
      <span style="color: #a020f0;">FROM</span> Customer <span style="color: #a020f0;">INNER</span> <span style="color: #a020f0;">JOIN</span> Orders <span style="color: #a020f0;">ON</span> Customer.[CustID] = Orders.[CustID]
      <span style="color: #a020f0;">WHERE</span> Orders.OrderDate &gt;= #1/1/2020#;      
      <span style="color: #a020f0;">ORDER</span> <span style="color: #a020f0;">BY</span> Surname <span style="color: #a020f0;">ASC</span>
</pre>
</pre>
</div>
<ul class="org-ul">
<li>This SQL query will return the following three records:
</li>
</ul>

<div class="figure">
<p><img src="img/3.7.2_DB_SQL3.png" alt="3.7.2_DB_SQL3.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2-7" class="outline-3 badge">
<h3 id="sec-2-7">Badge It: Structured Query Langauge (SQL) - SQL to Query two tables</h3>
<div class="outline-text-3" id="text-2-7">
<p>
<b>Gold</b>: Carry out the following instructions:
</p>
<ol class="org-ol">
<li>Write an SQL statement to retrieve the title and genre of the books owned by Mr Eames.
</li>
<li>Try and write an SQL Statement that will retrieve all the books by the author Dan Millman and show the title and surname of the customer who owns a copy.
</li>
</ol>


<ul class="org-ul">
<li><i>Upload to 3.7.2 Structured Query Language (SQL) - SQL Statement two tables: Silver on BourneToLearn</i> 
</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-sec-3" class="outline-2 activity">
<h2 id="sec-3"><span class="section-number-2">3</span> SQL Syntax - INSERT</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-sec-3-1" class="outline-3 learn">
<h3 id="sec-3-1">Learn It: Insert a new record</h3>
<div class="outline-text-3" id="text-3-1">

<ul class="org-ul">
<li><b>Example 1:</b> To insert a new record into an existing table we use the SQL <b>INSERT INTO</b> statement. The syntax is:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">INSERT</span> <span style="color: #a020f0;">INTO</span> tableName (column1, column2,...)
<span style="color: #a020f0;">VALUES</span> (value1, value2,...)
</pre>
</pre>
</div>
<ul class="org-ul">
<li>For example, to insert a record for a new customer, Mrs T Rush, 78
Oak Ave, Peterborough, 01733873194, 19/04/1974
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">INSERT</span> <span style="color: #a020f0;">INTO</span> Customer(CustID, Title, Initial, Surname, Address, City, Phone, DoB)
       <span style="color: #a020f0;">VALUES</span>(C005, "Mrs", "T", "Rush", "78 Oak Ave", "Pboro", "01733873194", "19/04/1974");
</pre>
</pre>
</div>
<ul class="org-ul">
<li><b>Example 2:</b> To insert a record for a new book, C456, You Care Too
Much, Carl Vernon, Self Help, 4, 07/01/2019:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">INSERT</span> <span style="color: #a020f0;">INTO</span> Books(BookID, Title, Author, Genre, Rating, PublishDate)
        <span style="color: #a020f0;">VALUES</span>(C456, "You Care Too Much", "<span style="color: #a020f0;">Self</span> Help", "4", "07/01/2019");
</pre>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2 activity">
<h2 id="sec-4"><span class="section-number-2">4</span> SQL Syntax - UPDATE</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-sec-4-1" class="outline-3 learn">
<h3 id="sec-4-1">Learn It: Update an existing record</h3>
<div class="outline-text-3" id="text-4-1">

<ul class="org-ul">
<li>To update an existing record's attribute(s) that meeting a specified condition, we use the SQL <b>UPDATE</b> statement. The syntax is:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">UPDATE</span> tableName
<span style="color: #a020f0;">SET</span> column1 = value1, column2 = value2, ...
<span style="color: #a020f0;">WHERE</span> <span style="color: #a020f0;">column</span> = <span style="color: #a020f0;">value</span>
</pre>
</pre>
</div>
<ul class="org-ul">
<li><b>Example:</b> Update the record of CustID C001, Mrs Flowers, who has
changed her address to 63 River Way, and her phone number to 01778 886210.
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">UPDATE</span> Customer
       <span style="color: #a020f0;">SET</span> Address = "63 River Way", Phone = "01778 886210"
       <span style="color: #a020f0;">WHERE</span> CustID = "C001"
</pre>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2 activity">
<h2 id="sec-5"><span class="section-number-2">5</span> SQL Syntax - DELETE</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-sec-5-1" class="outline-3 learn">
<h3 id="sec-5-1">Learn It: Delete an existing record</h3>
<div class="outline-text-3" id="text-5-1">

<ul class="org-ul">
<li>To delete an existing record from a table that meeting a specified condition, we use the SQL <b>DELETE</b> statement. The syntax is:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">DELETE</span> <span style="color: #a020f0;">FROM</span> tablename
<span style="color: #a020f0;">WHERE</span> <span style="color: #a020f0;">column</span> = <span style="color: #a020f0;">value</span>
</pre>
</pre>
</div>
<ul class="org-ul">
<li><b>Example:</b> Delete the record for CustID C004, Ms, P, Jones.
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">DELETE</span> <span style="color: #a020f0;">FROM</span> Customer
<span style="color: #a020f0;">WHERE</span> CustID = C004
</pre>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-5-2" class="outline-3 try">
<h3 id="sec-5-2">Try It: SQL Zoo - INSERT&#x2026;UPDATE&#x2026;DELETE</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li>Try practising your SQL skills by working through the following SQL
Insert and Delete Stages 1 to 7:
</li>
</ul>
<a href="https://sqlzoo.net/wiki/INSERT_and_DELETE_Reference"><img src="file:img/SQL_Zoo_Sections_Part_2.png"></a>
</div>
</div>

<div id="outline-container-sec-5-3" class="outline-3 badge">
<h3 id="sec-5-3">Badge It: Structured Query Langauge (SQL) - SQL Exam Questions</h3>
<div class="outline-text-3" id="text-5-3">
<p>
<b>Platinum</b>: Answer the following exam questions:
</p>
<ul class="org-ul">
<li>A relational database is being developed to store information about the games that are available to play at a games café and the advance bookings that have been made for those games. Each game has a unique name.
<ul class="org-ul">
<li>The database contains two tables: Game and Booking.
</li>
<li>The database is currently being tested by the person who has developed it so the database tables only contain a small amount of data that is being used for testing.
</li>
<li>The contents of the tables are shown below.
</li>
</ul>
</li>
</ul>

<div class="figure">
<p><img src="img/3.7.2_DB_Plat_Game_Booking.png" alt="3.7.2_DB_Plat_Game_Booking.png" />
</p>
</div>
<ol class="org-ol">
<li><b>State</b> the field in the Booking table that is a <b>foreign key</b>? (1 Mark)
</li>
<li><b>State</b> the most suitable <b>data type</b> to use for the <i>Complexity</i> field. (1 Mark)
</li>
<li>Due to a change in layout at a games café, the game table with an ID of 2 is no longer suitable for games that can have more than four players. The manager needs to find out the customer, date and time of all bookings made for the game table with an ID of 2 that are for a game that can have more than four players.
<ul class="org-ul">
<li>a) <b>Write</b> an <b>SQL query</b> that could be used to find this information for the manager. The results should be shown in date order. (6 Marks)
</li>
</ul>
</li>
<li>The <i>LengthOfGame</i> field shows the average amount of time it takes
to play a game in minutes. A query to add 10 minutes to the length
of time taken for all games that have a <i>Complexity</i> of more than three is shown below:
</li>
</ol>

<div class="org-src-container">

<pre class="src src-sql"><span style="color: #a020f0;">UPDATE</span> Game
<span style="color: #a020f0;">SET</span> LengthOfGame = LengthOfGame + 9
<span style="color: #a020f0;">WHERE</span> Complexity &lt;= 3
</pre>
</pre>
</div>
<ul class="org-ul">
<li>a) The query contains <b>two errors</b>.
</li>
<li>b) <b>Refine</b> the query to correct the errors.
</li>
</ul>


<ul class="org-ul">
<li><i>Upload to 3.7.2 Structured Query Language (SQL) - SQL Exam Questions: Platinum on BourneToLearn</i>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2 activity">
<h2 id="sec-6"><span class="section-number-2">6</span> Extension Exam Questions</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-sec-6-1" class="outline-3 try">
<h3 id="sec-6-1">Try It</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li>Try these examination questions on SQL.
</li>
</ul>

<div class="figure">
<p><img src="img/8.jpg" alt="8.jpg" />
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>